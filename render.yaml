services:
  - type: web
    name: day-dream-dictionary-api
    env: node
    buildCommand: cd backend && npm install
    startCommand: cd backend && node src/server.js
    port: 5000
    autoDeploy: false
    healthCheckPath: /health
    envVars:
      - key: API_BASE
        value: https://day-dream-dictionary-api.onrender.com/api/v1
      - key: CORS_ORIGIN
        value: https://day-dream-dictionary.onrender.com,https://daydreamdictionary.com
      - key: FREE_BASIC_INTERPRETATIONS_MONTHLY
        value: 1000
      - key: FREE_DEEP_INTERPRETATIONS_MONTHLY
        value: 1000
      - key: FRONTEND_URL
        value: https://day-dream-dictionary.onrender.com
      - key: JWT_SECRET
        value: "vEgPP8X0829L1LFilcySFPM2Bhc0kDd2Mrd90uhREZyFy5rc+gY8/JFbWtrfadS46JDIGxzhbCuu1F5gaQOMBQ=="
      - key: NODE_ENV
        value: production
      - key: OPENROUTER_API_KEY
        value: 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
      - key: RATE_LIMIT_MAX_REQUESTS
        value: 100
      - key: RATE_LIMIT_WINDOW_MS
        value: 900000
      - key: REFRESH_TOKEN_SECRET
        value: 452757dc9928f8adc6c6c1b598b544ad
      - key: SESSION_SECRET
        value: f6a39ad7f121015434b6a6256a5712e9
      - key: SUPABASE_ANON_KEY
        value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3Z2pja2N6eXNjcGFvemxldnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTExNzMsImV4cCI6MjA3MjQ4NzE3M30.gKKl8PoJ7vDt9UWwY9yQv_V3Qr_hA5KsrwjK__XU1Bo
      - key: SUPABASE_SERVICE_KEY
        value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3Z2pja2N6eXNjcGFvemxldnBlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjkxMTE3MywiZXhwIjoyMDcyNDg3MTczfQ.YW8MY5qNLKMwfeSrIHjIDTN42HgeiQ6YRBZ-McyPXGM
      - key: SUPABASE_URL
        value: https://gwgjckczyscpaozlevpe.supabase.co
      - key: TEST_MODE
        value: false
